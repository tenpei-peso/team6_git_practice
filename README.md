# team6_git_practice
チーム6のgit講習

課題① ブランチを切ってPushしましょう
新しいブランチ feature/あなたのお名前_make_mdを作成してください
新しいファイル あなたのお名前.mdを作成してください
「好きな食べ物は〇〇です、多分嫌いな食べ物は〇〇です」と記入してください(次の課題のためにガチで〇〇にする)
commitして作成したブランチ名でリモートにpush
※実際にはブランチ名は長くなっても構わないので明確に実装した機能がわかる名前をつけましょう。

課題② プルリクエストを送ってみましょう(複数人用)
上記で作成したブランチのプルリクエストを送ってみましょう
課題③ 受けたプルリクエストの変更点を把握してマージしてみましょう(複数人用)
課題④ git pullでマスターブランチを最新に更新しましょう
※ブランチは必ずマスターブランチに戻ってから作成しましょう。変な履歴が残ります。

課題⑤ git fetchしてみましょう(複数人用)
新しいブランチ feature/あなたのお名前_add_like_foodを作成してください
あなたのお名前.mdの〇〇を埋めてください
あとは課題①と同じ動きでリモートにPushしてください
masterブランチに戻ってgit fetchをしてみましょう。すると他の人の変更点が確認できます。
git checkout 他の人のブランチをして、remoteの情報をブランチに反映させることができます。レビューするときによく使う。
課題⑥ コンフリクトを解決してみましょう(複数人用)
masterからブランチでfeature/相手のお名前_maybe_like_foodを作成します
勝手に相手のお名前.mdの〇〇を埋めてリモートにpush&プルリクしましょう
この状態で今のプルリクではなく一個前の課題⑤のブランチ(feature/あなたのお名前_add_like_food)をGithub上でセルフマージします
課題⑥のブランチがGithub上でコンフリクトが起きていることがわかるはずです。
ローカルでコンフリを解消してみましょう。好きな食べ物は相手の変更を取り入れ、嫌いな食べ物は自分の変更を取り入れましょう
解決したらPushし直して勝手に記入した相手にプルリクを送りマージしてもらいます。
課題⑦ git reset でコミット取り消し
masterブランチで作業をして間違ってコミットまでしまった時はgit reset --softでコミットを戻せます
masterブランチであなたのお名前.mdに出身地を記入してコミットします。
git logでコミット履歴があることを確認します。
git reset --soft HEAD^で直前のコミットを取り消せます。
git logでコミット履歴がなくなっていることがわかります
変更点した内容はそのまま残っています※--softだから
もう一度masterブランチでコミットします。
git logでコミット履歴があることを確認します。
git reset --hard HEAD^で直前のコミットを取り消し、変更も削除します。
git logでコミット履歴がなくなっていることがわかります
変更点した内容すら残りません※--hardだから。なので--hardはよっぽどでなければ利用しないです。
課題⑧ git revert でPushしてしまったコミットの取り消し
２つの機能を２つのブランチで実装しているとやってしまうミス
間違ったブランチから新しいブランチを切ってしまってもおこる
feature/あなたのお名前_Aを新規作成し、あなたのお名前_new_a.mdのファイルを新規作成、それに機能Aと記入しコミットします。
その後masterに戻らないままfeature/あなたのお名前_Bのブランチを作成し、あなたのお名前_new_b.mdを新規作成、機能Bと記入しコミット& Pushします。
Github上で見るとfeature/あなたのお名前_Bのブランチに機能Aのコミットが紛れ込んでしまいます。
この場合機能git resetで一旦戻してPushしようとすると既にプッシュしているので変更履歴を上書きするフォースプッシュになります。
まだこのことで被害を受けたことないので、詳しく説明できませんが企業によってはボコボコに怒られます。(怒られてるSlackは見たことある。)(復元とか難しくなる)
この場合使うのはgit revertです
git logでコミット履歴を確認し、戻すコミットIDを指定(今回だと機能A)してrevertします。
この状態で再度feature/あなたのお名前_BにPushすると機能Aのコミットを打ち消すコミットが作成され、ファイルチェンジの内容を見ても機能Aのファイルが存在しないことがわかります。
課題⑨ git chery-pick で必要なコミットだけ抽出
ブランチを切り替えるのを忘れていたときにおこるミス
課題⑧で作った機能Bはセルフマージしましょう。
機能Aの追加実装を行っていきますが、うっかりで機能Bのブランチにいるままに新しくnew_a_2.mdを作成し機能A_追加と記入してコミットします。
ここで機能Aのブランチに機能Bでやってしまった変更を取り入れたいですが、実際の多数のファイルをいじることになるので、コピペでどうにかするのは厳しくなります。
git logで必要なコミットのIDをメモしておきます
機能Aのブランチに戻ります。git cherry-pick コミットIDで機能Bでコミットしてしまったコミットを機能Aに移植できました。
※コミットしてなければcheckoutで一緒についてくるはず。ついてこなかったら後述のstashを利用
課題⑩ git stash で一時保存
機能Aがまだ中途半端に実装中なのに、急いで機能C作ってって言われた時に利用する
機能Aのブランチで、あなたのお名前_new_a.mdに途中の実装と記入します。
この状態で機能Cを突然作れと言われてもコミットもしたくないし困ります。
この際にgit stash save '機能Aの途中コミット'として退避させます。※もしGitがファイルがaddされていなければaddが必要
変更からはなくなりますが、git stash listをすると退避一覧に表示されます。
機能Cを色々実装したとして機能Aに戻ってきたら、git stash pop で戻せます。
以上がgitの練習となります。 ####とにかくgit branchで今どのブランチにいるのか？ ####意地でもメインのブランチに戻ってから新しいブランチは作る ####定期的にgit pullをする が意味のわからないgitのミスを防ぐコツです。 大体のミスは

masterかと思ってたら違うブランチにいて、そこから新しいブランチを切ってた
git pullを忘れてて大量コンフリ
です。

機能を実装終了したらmaster(実際はdevelopって名前のことが多い)に戻ってリモートの状況をpullしたのちに新しいブランチを切るを徹底してると防げます
